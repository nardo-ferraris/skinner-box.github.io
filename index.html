<!doctype html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>La Gabbia Invisibile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Archivo+Black&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f8f7f2; --ink:#161616; --muted:#575757; --card:#fff;
      --accent:#ff5e3a; --accent2:#08a88f; --line:#222;
      --radius:18px; --shadow:0 14px 40px rgba(0,0,0,.12);
    }
    *{box-sizing:border-box} html,body{margin:0}
    body{
      font-family:"Space Grotesk",sans-serif; color:var(--ink); line-height:1.6;
      background:radial-gradient(circle at 88% 8%,#ffe7e0 0 17%,transparent 18%),radial-gradient(circle at 10% 84%,#d8fff6 0 16%,transparent 17%),var(--bg);
    }

    <!-- SEZIONE 3: sostituisci il blocco "Prova tu stesso: La Sfida della Ricompensa" -->
<section class="fade-in">
  <h2>Prova tu stesso: La Sfida della Ricompensa</h2>
  <article id="simBox" class="card sim-box">
    <p><strong>Regole:</strong> A d√† +1 ogni 5 secondi (prevedibile). B √® incerto: 70% zero, 25% premio piccolo, 5% jackpot.</p>

    <div class="buttons" style="justify-content:center">
      <button class="primary" id="start">Avvia 60 secondi</button>
      <button id="btn-a" disabled>Pulsante A (Fisso)</button>
      <button class="secondary" id="btn-b" disabled>Pulsante B (Variabile)</button>
    </div>

    <div class="stats">
      <div class="stat timer-urgent">Tempo rimasto<strong id="time">60s</strong></div>
      <div class="stat">Click A / Click B<strong id="clicks">0 / 0</strong></div>
      <div class="stat">Punti A / B<strong id="points">0 / 0</strong></div>
    </div>

    <p id="reflection">Premi ‚ÄúAvvia 60 secondi‚Äù e osserva dove clicchi di pi√π.</p>

    <div id="barsWrap" class="bars-wrap">
      <div class="bars">
        <div class="bar-row">
          <strong>Click A</strong>
          <div class="track"><div id="barA" class="fill a"></div></div>
          <span id="barALabel">0%</span>
        </div>
        <div class="bar-row">
          <strong>Click B</strong>
          <div class="track"><div id="barB" class="fill b"></div></div>
          <span id="barBLabel">0%</span>
        </div>
      </div>
      <p id="compare" class="compare"></p>
      <p id="schema" class="compare"></p>
    </div>
  </article>
</section>

    .container{width:min(1120px,92%);margin:auto} section{padding:5rem 0}
    h1,h2,h3{line-height:1.1;margin:0 0 1rem} h2{font-size:clamp(1.5rem,3vw,2.5rem)}
    h1{font-family:"Archivo Black",sans-serif;font-size:clamp(2rem,5vw,4rem);letter-spacing:-.03em}
    p{margin:0 0 1rem;color:var(--muted)}
    .hero{min-height:90vh;display:grid;place-items:center;padding:2rem 0 1.5rem}
    .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:2rem;align-items:center}
    .badge{display:inline-block;background:#fff;border:2px solid var(--line);border-radius:999px;font-weight:700;padding:.4rem .85rem;margin-bottom:1rem}
    .cta{display:inline-block;margin-top:.6rem;text-decoration:none;font-weight:700;color:#fff;background:var(--ink);border:2px solid var(--ink);border-radius:12px;padding:.85rem 1.2rem;transition:transform .2s}
    .cta:hover{transform:translateY(-2px)}
    .phone-art{
      width:min(360px,92%);aspect-ratio:10/19;margin:auto;border:3px solid var(--line);border-radius:28px;background:var(--card);
      box-shadow:var(--shadow);position:relative;overflow:hidden;
    }
    .phone-screen{position:absolute;inset:10px;border-radius:20px;background:linear-gradient(160deg,#f2f2f2 0%,#fff 40%,#eef7ff 100%);border:2px solid #dadada}
    .noti{position:absolute;left:50%;transform:translateX(-50%);border:2px solid var(--line);border-radius:999px;background:#fff;padding:.2rem .7rem;font-weight:700;font-size:.9rem;animation:floatUp 3.8s infinite ease-in-out;z-index:2}
    .noti:nth-child(2){bottom:14%;animation-delay:0s}.noti:nth-child(3){bottom:28%;animation-delay:.8s}.noti:nth-child(4){bottom:42%;animation-delay:1.6s}.noti:nth-child(5){bottom:56%;animation-delay:2.4s}
    .mini-cage{position:absolute;bottom:7%;left:8%;width:92px;height:74px;border:3px solid var(--line);border-radius:10px;background:repeating-linear-gradient(90deg,#fff 0 9px,#ededed 9px 12px);z-index:2}
    @keyframes floatUp{0%,100%{transform:translate(-50%,10px);opacity:.2}35%{opacity:1}70%{transform:translate(-50%,-24px);opacity:.75}}

    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:1.2rem}
    .card{background:var(--card);border:2px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:1.25rem}
    .mini-title{font-weight:700;margin-bottom:.4rem}
    .buttons{display:flex;gap:.8rem;flex-wrap:wrap;margin:.8rem 0}
    button{border:2px solid var(--line);background:#fff;color:var(--ink);font-weight:700;padding:.75rem 1.05rem;border-radius:12px;cursor:pointer}
    button.primary{background:var(--accent)} button.secondary{background:var(--accent2)} button:disabled{opacity:.55;cursor:not-allowed}
    .sim-box{text-align:center;position:relative;overflow:hidden}
    .hit-flash{animation:flashHit .35s ease}
    @keyframes flashHit{0%{background:#fff4b0}100%{background:transparent}}
    .particle{
      position:absolute;pointer-events:none;font-size:20px;animation:pop 700ms ease forwards;opacity:0;
    }
    @keyframes pop{
      0%{opacity:1;transform:translate(0,0) scale(.6)}
      100%{opacity:0;transform:translate(var(--dx),var(--dy)) scale(1.2)}
    }

    .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:.8rem;text-align:left;margin:.4rem 0 .8rem}
    .stat{background:#f3f3ef;border-radius:12px;padding:.7rem .8rem;border:1px solid #e6e6e0}
    .stat strong{display:block;color:var(--ink);font-size:1.2rem}

    .bars-wrap{margin-top:1rem;display:none}
    .bars{display:grid;gap:.6rem}
    .bar-row{display:grid;grid-template-columns:120px 1fr 52px;gap:.6rem;align-items:center}
    .track{height:14px;background:#ecece7;border-radius:999px;overflow:hidden}
    .fill{height:100%;width:0%;transition:width .7s ease}
    .fill.a{background:var(--accent)} .fill.b{background:var(--accent2)}
    .compare{margin-top:.7rem;font-weight:700;color:#1f1f1f}

    .refresh-box{border:2px dashed #c6c6c6;border-radius:12px;padding:.8rem;background:#fafafa}
    .pull-area{
      user-select:none;touch-action:none;background:#fff;border:2px solid var(--line);border-radius:12px;padding:1rem;
      text-align:center;position:relative;overflow:hidden;
    }
    .spinner{
      width:26px;height:26px;border:3px solid #ddd;border-top:3px solid var(--ink);border-radius:50%;
      margin:.5rem auto;display:none;animation:spin 1s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .fact{margin-top:.6rem;padding:.6rem;border:1px solid #ddd;border-radius:10px;background:#fff}

    .tips{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}
    .tip{display:flex;gap:.7rem;align-items:flex-start;background:#f7f7f7;border:1px solid #e8e8e8;border-radius:12px;padding:.75rem}
    .tip i{font-style:normal;font-size:1.3rem;line-height:1}
    footer{padding:2rem 0 3rem;border-top:2px solid #ddd;text-align:center;color:var(--muted)} footer a{color:var(--ink)}
    .fade-in{opacity:0;transform:translateY(16px);transition:opacity .6s,transform .6s}
    .fade-in.visible{opacity:1;transform:none}
    @media (max-width:900px){.hero-grid,.grid-2,.tips{grid-template-columns:1fr}.stats{grid-template-columns:1fr}section{padding:4rem 0}.bar-row{grid-template-columns:90px 1fr 40px}}
  </style>
</head>
<body>
  <header class="hero container">
    <div class="hero-grid">
      <div>
        <span class="badge">Psicologia + Tech + Te</span>
        <h1>La Gabbia Invisibile: Perch√© non smetti di controllare il telefono?</h1>
        <p>Scopri il meccanismo psicologico dietro notifiche, like e refresh dei social. Dalla Skinner Box al tuo feed: stessa logica, design diverso.</p>
        <a class="cta" href="#inizia">Inizia il Viaggio</a>
      </div>
      <div class="phone-art" aria-hidden="true">
        <div class="phone-screen"></div>
        <div class="noti">+1 Like</div><div class="noti">Nuova Storia</div><div class="noti">3 Notifiche</div><div class="noti">Messaggio</div>
        <div class="mini-cage"></div>
      </div>
    </div>
  </header>

  <main id="inizia" class="container">
    <section class="fade-in">
      <h2>Il Piccione che Amava Vincere: L'Esperimento di Skinner</h2>
      <div class="grid-2">
        <article class="card">
          <p><strong>Condizionamento operante, versione semplice:</strong> quando un comportamento viene premiato, tendiamo a rifarlo.</p>
          <p><strong>Ricompensa fissa:</strong> premio sempre regolare, prevedibile.</p>
          <p><strong>Ricompensa variabile/casuale:</strong> premio imprevedibile. Questa incertezza rende il comportamento pi√π insistente.</p>
        </article>
        <article class="card">
          <div class="mini-title">Mini esperimento visivo</div>
          <p>Due pulsanti per il piccione: uno sempre uguale, uno a sorpresa.</p>
          <div class="buttons">
            <button id="fixed-demo">Pulsante Premio Fisso</button>
            <button id="var-demo">Pulsante Premio Casuale</button>
          </div>
          <p id="bird-log">Il piccione osserva i pulsanti...</p>
        </article>
      </div>
    </section>

    <section class="fade-in">
      <h2>La Skinner Box in Tasca: Come i Social ti ‚ÄúCatturano‚Äù</h2>
      <div class="grid-2">
        <article class="card">
          <p><strong>Parallelismo diretto:</strong> la gabbia √® lo smartphone, ‚Äúbeccare‚Äù √® scrollare o fare refresh, la ricompensa √® la notifica/like/contenuto nuovo.</p>
          <p><strong>Dopamina:</strong> √® anche anticipazione. Se la ricompensa √® incerta, il cervello resta agganciato all‚Äôattesa.</p>
          <p><strong>Esempi:</strong> pull-to-refresh tipo slot machine, storie che scompaiono (FOMO), puntino rosso.</p>
        </article>
        <article class="card">
          <div class="mini-title">Slot Machine Pull-to-Refresh</div>
          <p style="margin-bottom:.6rem">Trascina verso il basso e rilascia per ‚Äúcaricare un nuovo fatto‚Äù. Il ritardo di 1-2 secondi simula l‚Äôattesa intenzionale.</p>
          <div class="refresh-box">
            <div id="pullArea" class="pull-area">
              <strong id="pullLabel">Trascina in basso ‚Üì</strong>
              <div id="spinner" class="spinner"></div>
              <div id="fact" class="fact">Fatto: le ricompense imprevedibili mantengono il comportamento pi√π a lungo.</div>
            </div>
          </div>
          <p style="margin-top:.7rem"><strong>Didattica:</strong> quel micro-ritardo crea suspense: ‚Äúmagari questa volta trovo qualcosa di super interessante‚Äù.</p>
        </article>
      </div>
    </section>

    <!-- SEZIONE 3: sostituisci il blocco "Prova tu stesso: La Sfida della Ricompensa" -->
<section class="fade-in">
  <h2>Prova tu stesso: La Sfida della Ricompensa</h2>
  <article id="simBox" class="card sim-box">
    <p><strong>Regole:</strong> A d√† +1 ogni 5 secondi (prevedibile). B √® incerto: 70% zero, 25% premio piccolo, 5% jackpot.</p>

    <div class="buttons" style="justify-content:center">
      <button class="primary" id="start">Avvia 60 secondi</button>
      <button id="btn-a" disabled>Pulsante A (Fisso)</button>
      <button class="secondary" id="btn-b" disabled>Pulsante B (Variabile)</button>
    </div>

    <div class="stats">
      <div class="stat timer-urgent">Tempo rimasto<strong id="time">60s</strong></div>
      <div class="stat">Click A / Click B<strong id="clicks">0 / 0</strong></div>
      <div class="stat">Punti A / B<strong id="points">0 / 0</strong></div>
    </div>

    <p id="reflection">Premi ‚ÄúAvvia 60 secondi‚Äù e osserva dove clicchi di pi√π.</p>

    <div id="barsWrap" class="bars-wrap">
      <div class="bars">
        <div class="bar-row">
          <strong>Click A</strong>
          <div class="track"><div id="barA" class="fill a"></div></div>
          <span id="barALabel">0%</span>
        </div>
        <div class="bar-row">
          <strong>Click B</strong>
          <div class="track"><div id="barB" class="fill b"></div></div>
          <span id="barBLabel">0%</span>
        </div>
      </div>
      <p id="compare" class="compare"></p>
      <p id="schema" class="compare"></p>
    </div>
  </article>
</section>


    <section class="fade-in">
      <h2>Fuga dalla Gabbia: Riprendi il Controllo</h2>
      <article class="card">
        <p>Capire il meccanismo √® il primo passo per non esserne schiavi.</p>
        <div class="tips">
          <div class="tip"><i>üîï</i><div><strong>Taglia il rumore</strong><br>Disattiva notifiche non essenziali, soprattutto badge rossi.</div></div>
          <div class="tip"><i>‚è±Ô∏è</i><div><strong>Metti limiti</strong><br>Imposta tempi d‚Äôuso per le app pi√π assorbenti.</div></div>
          <div class="tip"><i>üìµ</i><div><strong>Telefono fuori dalla camera</strong><br>Meno tentazioni, sonno migliore.</div></div>
          <div class="tip"><i>‚ö´‚ö™</i><div><strong>Scala di grigi</strong><br>Meno colori forti, meno trigger visivi.</div></div>
        </div>
      </article>
    </section>
  </main>

  <footer class="container">
    <h3>Questo sito √® stato creato per scopi educativi [Nome della Scuola/Classe].</h3>
    <p>
      Risorse aggiuntive:
      <a href="https://www.thesocialdilemma.com/" target="_blank" rel="noreferrer">The Social Dilemma</a> |
      <a href="https://www.penguinrandomhouse.com/books/533763/irresistible-by-adam-alter/" target="_blank" rel="noreferrer">Irresistible (Adam Alter)</a>
    </p>
  </footer>

  <script>
    // Reveal
    const observer = new IntersectionObserver((entries)=>entries.forEach(e=>e.isIntersecting&&e.target.classList.add("visible")), {threshold:.15});
    document.querySelectorAll(".fade-in").forEach(el=>observer.observe(el));

    // Mini demo Skinner
    const birdLog = document.getElementById("bird-log");
    document.getElementById("fixed-demo").onclick = ()=>birdLog.textContent="Premio fisso: il piccione becca e poi rallenta.";
    document.getElementById("var-demo").onclick = ()=>{
      const outcomes=["Niente... forse al prossimo.","Piccolo premio!","Grande premio!","Ricompensa imprevista!"];
      birdLog.textContent="Premio casuale: "+outcomes[Math.floor(Math.random()*outcomes.length)]+" Il piccione continua a provare.";
    };

    // Pull to refresh simulato
    const pullArea = document.getElementById("pullArea");
    const pullLabel = document.getElementById("pullLabel");
    const spinner = document.getElementById("spinner");
    const factBox = document.getElementById("fact");
    const facts = [
      "Fatto: l'incertezza mantiene il comportamento pi√π a lungo della ricompensa prevedibile.",
      "Fatto: il refresh con attesa crea anticipazione, non solo informazione.",
      "Fatto: le notifiche rosse sfruttano urgenza visiva + ricompensa sociale.",
      "Fatto: ‚Äúforse questa volta‚Äù √® il motore del rinforzo variabile."
    ];
    let startY = null, pulled = 0, loading = false;
    function getY(e){ return e.touches ? e.touches[0].clientY : e.clientY; }
    function begin(e){ if(loading) return; startY=getY(e); pulled=0; }
    function move(e){
      if(startY===null || loading) return;
      pulled=Math.max(0, getY(e)-startY);
      if(pulled>70) pullLabel.textContent="Rilascia per refresh üé∞";
      else if(pulled>10) pullLabel.textContent="Continua a trascinare...";
    }
    function end(){
      if(startY===null || loading) return;
      if(pulled>70){
        loading=true;
        pullLabel.textContent="Caricamento...";
        spinner.style.display="block";
        const delay = 1000 + Math.floor(Math.random()*1000);
        setTimeout(()=>{
          spinner.style.display="none";
          pullLabel.textContent="Nuovo contenuto trovato!";
          factBox.textContent = facts[Math.floor(Math.random()*facts.length)];
          loading=false;
          setTimeout(()=>pullLabel.textContent="Trascina in basso ‚Üì",1200);
        }, delay);
      } else pullLabel.textContent="Trascina in basso ‚Üì";
      startY=null; pulled=0;
    }
    ["mousedown","touchstart"].forEach(evt=>pullArea.addEventListener(evt,begin,{passive:true}));
    ["mousemove","touchmove"].forEach(evt=>pullArea.addEventListener(evt,move,{passive:true}));
    ["mouseup","mouseleave","touchend","touchcancel"].forEach(evt=>pullArea.addEventListener(evt,end,{passive:true}));

    // Simulazione 60s
    <script>
  // === SFIDA DELLA RICOMPENSA: motore completo ===
  const GAME_SECONDS = 60;
  const FIXED_COOLDOWN_MS = 5000;

  const simBox = document.getElementById("simBox");
  const startBtn = document.getElementById("start");
  const btnA = document.getElementById("btn-a");
  const btnB = document.getElementById("btn-b");

  const timeEl = document.getElementById("time");
  const clicksEl = document.getElementById("clicks");
  const pointsEl = document.getElementById("points");
  const reflectionEl = document.getElementById("reflection");

  const barsWrap = document.getElementById("barsWrap");
  const barA = document.getElementById("barA");
  const barB = document.getElementById("barB");
  const barALabel = document.getElementById("barALabel");
  const barBLabel = document.getElementById("barBLabel");
  const compareEl = document.getElementById("compare");
  const schemaEl = document.getElementById("schema");

  let running = false;
  let remaining = GAME_SECONDS;
  let timerId = null;

  let clicksA = 0, clicksB = 0;
  let pointsA = 0, pointsB = 0;

  let nextARewardAt = 0;

  function updateUI() {
    timeEl.textContent = remaining + "s";
    clicksEl.textContent = clicksA + " / " + clicksB;
    pointsEl.textContent = pointsA + " / " + pointsB;
  }

  function floatReward(text, targetBtn, type) {
    const simRect = simBox.getBoundingClientRect();
    const btnRect = targetBtn.getBoundingClientRect();
    const el = document.createElement("span");
    el.className = "float-reward " + type;
    el.textContent = text;
    el.style.left = (btnRect.left - simRect.left + btnRect.width / 2) + "px";
    el.style.top = (btnRect.top - simRect.top + 8) + "px";
    simBox.appendChild(el);
    setTimeout(() => el.remove(), 900);
  }

  function shake(btn, jackpot = false) {
    btn.classList.remove("shake", "shake-jackpot");
    void btn.offsetWidth;
    btn.classList.add(jackpot ? "shake-jackpot" : "shake");
  }

  function startGame() {
    clearInterval(timerId);
    running = true;
    remaining = GAME_SECONDS;
    clicksA = clicksB = 0;
    pointsA = pointsB = 0;

    nextARewardAt = Date.now() + FIXED_COOLDOWN_MS;

    btnA.disabled = false;
    btnB.disabled = false;
    startBtn.disabled = true;
    barsWrap.style.display = "none";

    reflectionEl.textContent = "Test in corso: la pressione del tempo aumenta l'impulso al click.";
    updateUI();

    timerId = setInterval(() => {
      remaining -= 1;
      updateUI();
      if (remaining <= 0) {
        clearInterval(timerId);
        endGame();
      }
    }, 1000);
  }

  function renderBars() {
    const total = clicksA + clicksB;
    const aPct = total ? Math.round((clicksA / total) * 100) : 0;
    const bPct = total ? Math.round((clicksB / total) * 100) : 0;

    barA.style.width = aPct + "%";
    barB.style.width = bPct + "%";
    barALabel.textContent = aPct + "%";
    barBLabel.textContent = bPct + "%";
    barsWrap.style.display = "block";
  }

  function endGame() {
    running = false;
    btnA.disabled = true;
    btnB.disabled = true;
    startBtn.disabled = false;

    const ratio = clicksA === 0 ? (clicksB > 0 ? Infinity : 1) : (clicksB / clicksA);
    const ratioText = ratio === Infinity ? "‚àû" : ratio.toFixed(2);

    if (clicksB > clicksA * 1.5) {
      reflectionEl.textContent =
        "Il tuo cervello √® stato catturato dal Jackpot. Hai ignorato la certezza del Pulsante A per inseguire la scarica di dopamina di B.";
    } else {
      reflectionEl.textContent =
        "Hai mantenuto un pattern pi√π bilanciato. Il rinforzo variabile √® comunque progettato per trascinare l'attenzione.";
    }

    compareEl.textContent = `Rapporto click B/A: ${ratioText} (A: ${clicksA}, B: ${clicksB})`;
    schemaEl.innerHTML =
      "Schema del gioco: 1) A = +1 solo ogni 5s, click anticipati = 0. " +
      "2) B = 70% zero, 25% premio 1-3, 5% jackpot +20. " +
      "3) L'imprevedibilit√† aumenta il re-try compulsivo.";
    renderBars();
  }

  startBtn.addEventListener("click", startGame);

  btnA.addEventListener("click", () => {
    if (!running) return;
    clicksA++;
    const now = Date.now();

    if (now >= nextARewardAt) {
      pointsA += 1;
      nextARewardAt = now + FIXED_COOLDOWN_MS;
      floatReward("+1", btnA, "a");
    } else {
      // feedback minimo e grigio
      floatReward("0", btnA, "a");
    }
    updateUI();
  });

  btnB.addEventListener("click", () => {
    if (!running) return;
    clicksB++;

    const roll = Math.random() * 100;
    let reward = 0;
    let jackpot = false;

    if (roll < 70) {
      reward = 0;
    } else if (roll < 95) {
      reward = 1 + Math.floor(Math.random() * 3); // 1-3
    } else {
      reward = 20;
      jackpot = true;
    }

    if (reward > 0) {
      pointsB += reward;
      shake(btnB, jackpot);
      floatReward("+" + reward + "‚≠ê", btnB, jackpot ? "jackpot" : "b");
    } else {
      floatReward("0", btnB, "b");
    }

    updateUI();
  });
</script>

  </script>
</body>
</html>
